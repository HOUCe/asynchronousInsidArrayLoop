<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <link rel="stylesheet" href="">
</head>
<body>
    <div id="output">

    </div>
    <script>
        var output = '';
        var array = ['h','e','l','l','o'];
        // This is an example of an async function, like an AJAX call
        var fetchData = function () {
         return new Promise(function (resolve, reject) {
            resolve();
          });
        };
        /* 
          Inside the loop below, we execute an async function and create
          a string from each letter in the callback.
           - Expected output: hello
           - Actual output: undefinedundefinedundefinedundefined
        */
        function appendOutput (item) {
          fetchData(item).then(function () {
            output.innerHTML += item;
          });
        }
        for (var i = 0; i < array.length; i++) {
          appendOutput(array[i]); // output: hello
        }
    </script>
</body>

</html>